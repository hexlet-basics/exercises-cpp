У каждой программы должна быть функция с именем `main`. Именно с этой функции консольная программа начинает выполняться при запуске. Но когда программа масштабируется, становится сложнее размещать весь код внутри этой функции. В этом случае используют функции, которые позволяют разделить программы на небольшие модульные части. Их легче организовать, тестировать и использовать.

Большинство программ использует множество функций. Стандартная библиотека C++ поставляется с множеством уже написанных функций, которые вы можете использовать, но так же можно писать и свои собственные. Функции, которые вы пишете сами, называются пользовательскими функциями.

В этом уроке мы рассмотрим как создавать пользовательские функции.

### Что такое функция

Представим, что мы читаем книгу и вспоминаем, что нам нужно сделать звонок. Мы оставляем закладку, говорим по телефону и возвращаемся читать книгу с того места, где оставили закладку.

Программы на C++ могут работать так же. Программа будет последовательно выполнять инструкции внутри одной функции, пока не обнаружит вызов другой функции.

**Вызов функции** — это выражение, которое говорит CPU прервать текущую функцию и выполнить другую. Получается, что CPU «помещает закладку» в текущую точку выполнения, а затем вызывает функцию, указанную в вызове функции. Когда вызываемая функция завершается, CPU возвращается в точку, которая отмечена закладкой, и возобновляет выполнение.

Разберёмся как определять пользовательские функции в С++.

### Структура функции

Начнём с базового синтаксиса для определения пользовательской функции. В этом уроке все пользовательские функции кроме `main` будут иметь следующий вид:

```cpp
тип_возвращаемого_значения идентификатор(параметры функции) { // идентификатор заменяется именем вашей функции
  // ваш код здесь
}
```

Подробнее о различных частях этого синтаксиса поговорим в следующих уроках. На данный момент идентификатор будет просто заменён именем нашей пользовательской функции. Фигурные скобки и инструкции между ними называются **телом функции**.

Рассмотрим пример программы, которая показывает, как определяется и вызывается новая функция:

```cpp
void Greeting() {
  std::cout << "Hello, Code Basics!" << std::endl;
}


int main() {
  std::cout << "Starting main()" << std::endl;
  // Прерываем main(), вызывая функцию Greeting().
  Greeting();
  // эта инструкция выполняется после завершения Greeting()
  std::cout << "Ending main()" << std::endl;

  return 0;
}
```

Эта программа создает следующий вывод:

<pre class='hexlet-basics-output'>
  Starting main()
  Hello, Code Basics!
  Ending main()
</pre>

Программа начинает выполняться с начала функции `main`. Первая строка, которая будет выполнена, выведет текст `Starting main()`. Вторая строка в `main` — это вызов функции `Greeting()`. Мы вызываем функцию `Greeting()`, добавляя скобки к имени функции, например: `Greeting()`. Если забыть про скобки, то программа не будет скомпилирована успешно.

Так как мы вызвали функцию, выполнение инструкций в `main` приостанавливается. В результате этого вызова, выполнение переходит к началу вызываемой функции `Greeting()`.

Первая и единственная строка в `Greeting()` печатает текст `Hello, Code Basics!`. Когда `Greeting()` завершается, выполнение возвращается к вызвавшей её функции — в данном случае это функция `main`. Выполнение возобновляется с того места, где остановилось. Т.е. следующая инструкция, которая будет выполнена - вывод на печать `Ending main()` в функции `main`.

### Особенность функций

Полезная особенность функций заключается в том, что их можно вызывать более одного раза в разных частях программы. Вот программа, которая демонстрирует это:

```cpp
void Greeting() {
  std::cout << "Hello, Code Basics!" << std::endl;
}

int main() {
  Greeting();
  Greeting();
  return 0;
}
```

Обратите внимание - мы вызываем функцию `Greeting()` два раза.

Эта программа создает следующий вывод:

<pre class='hexlet-basics-output'>
  Hello, Code Basics!
  Hello, Code Basics!
</pre>

В отличие от некоторых других языков программирования, в C++ функции не могут быть определены внутри других функций. Следующая программа не является корректной:

```cpp
int main() {
  void Greeting() {
    std::cout << "Hello, Code Basics!";
  }
  Greeting();
  return 0;
}
```
В коде выше мы попытались определить внутри функции `main()` функцию `Greeting()` и получили ошибку компиляции:

<pre class='hexlet-basics-output'>
  main.cpp:12:3: error: ‘PrintMoto’ was not declared in this scope
 12 |   PrintMoto();
    |   ^~~~~~~~~
</pre>

Это, прежде всего, связано с особенностью языка и выделением памяти.

В этом уроке мы рассмотрели структуру и создание функций. Понятие «создать функцию» имеет много синонимов: «реализовать», «определить» и даже «заимплементить» (от слова implement). Все они встречаются в повседневной практике на работе.
